"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[853],{126:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(689),s=a(184);const o=e=>{let{movies:t}=e;const a=(0,r.TH)();return(0,s.jsx)("div",{className:"movie-list-wrapp",children:t.map((e=>{let{title:t,id:r,poster_path:o}=e;return(0,s.jsx)("div",{className:"movie-list-item",children:(0,s.jsxs)("a",{href:"/movies/".concat(r),className:"movie-list-link",state:{from:a},children:[(0,s.jsx)("img",{src:o?"".concat("https://image.tmdb.org/t/p/w200").concat(o):"",alt:t,className:"movie-poster"}),(0,s.jsx)("h2",{className:"movie-title",children:t})]})},r)}))})}},853:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var r=a(791),s=a(87),o=a(282),n=a(184);const c=e=>{let{value:t,onChange:a,onSubmit:r}=e;return(0,n.jsxs)("form",{onSubmit:r,children:[(0,n.jsxs)("label",{children:["Movie name:",(0,n.jsx)("input",{type:"text",name:"searchName",value:t,onChange:a,autoComplete:"off",autoFocus:!0,placeholder:"Movie name..."})]}),(0,n.jsx)("button",{type:"submit",children:(0,n.jsx)("span",{role:"img","aria-label":"Search",children:"\ud83d\udd0d"})})]})};var i=a(126);const l=()=>{var e;const[t,a]=(0,r.useState)([]),[l,m]=(0,r.useState)(""),[h,u]=(0,s.lr)(),d=null!==(e=h.get("query"))&&void 0!==e?e:"";return(0,r.useEffect)((()=>{if(!d)return;(async()=>{try{const{results:e}=await o.rQ("search/movie",{params:{query:d}});a(e)}catch(e){console.error("Something went wrong, please try again",e)}})()}),[d]),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{children:[(0,n.jsxs)(c,{onSubmit:e=>{e.preventDefault(),u({query:l}),m("")},children:[(0,n.jsxs)("label",{children:["Search:",(0,n.jsx)("input",{type:"text",value:l,onChange:e=>{m(e.currentTarget.value.toLowerCase())}})]}),(0,n.jsx)("button",{type:"submit",children:"Search"})]}),(0,n.jsx)(i.Z,{movies:t})]})})}},282:(e,t,a)=>{a.d(t,{Bm:()=>o,rQ:()=>s});var r=a(294);r.Z.defaults.baseURL="https://api.themoviedb.org/3/";const s=async(e,t)=>{try{return(await r.Z.get(e,{params:{...t,api_key:"6167a2fbe619d64566c427d4bc6ed1cb"}})).data}catch(a){throw console.error("Error fetching data from ".concat(e,":"),a),new Error("Failed to fetch data")}},o=e=>s("movie/".concat(e))}}]);
//# sourceMappingURL=853.d0912d81.chunk.js.map